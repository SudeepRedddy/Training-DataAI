{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-md-6">
        <img src="{{ url_for('static', filename='uploads/' + product.image) }}" class="img-fluid rounded" style="max-height: 400px;">
    </div>
    <div class="col-md-6">
        <h2>{{ product.name }}</h2>
        <h4 class="text-muted">₹{{ product.price }}</h4>
        <p class="badge bg-secondary">{{ product.category }}</p>
        <br>
        
        <a href="/add-to-cart/{{ product.id }}" class="btn btn-primary mt-3">Add to Cart</a>
        
        {% if current_user.is_admin %}
        <a href="/delete-product/{{ product.id }}" class="btn btn-danger mt-3 ms-2" onclick="return confirm('Are you sure you want to delete this product?')">Delete Product</a>
        {% endif %}
    </div>
</div>

<hr class="my-5">
<h3>Related Products</h3>
<div class="row">
    {% for p in related_products %}
    <div class="col-md-3 mb-3">
        <div class="card h-100">
            <img src="{{ url_for('static', filename='uploads/' + p.image) }}" class="card-img-top" style="height: 150px; object-fit: cover;">
            <div class="card-body">
                <h6 class="card-title">{{ p.name }}</h6>
                <p class="card-text">₹{{ p.price }}</p>
                <a href="/product/{{ p.id }}" class="btn btn-sm btn-outline-primary">View</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}